<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
	<title>WGLT - Roguelike Tutorial - Part 6</title>
    <link href="../../styles.css" rel="stylesheet">
</head>

<body>
    <canvas></canvas>
    <p><a href="http://www.roguebasin.com/index.php?title=Complete_Roguelike_Tutorial,_using_python%2Blibtcod,_part_6">Part 6: Going Berserk!</a></p>
    <p>Stalking monsters, fights, splatter -- need we say more?</p>
    <div class="diff">
        <!--STARTDIFF--><div class="c3">--- part5.js	2019-02-16 11:58:20.000000000 -0800</div>
<div class="c2">+++ part6.js	2019-02-16 11:58:24.000000000 -0800</div>
<div class="c1">@@ -126,10 +126,28 @@</div>
<div class="c0">             monster = new wglt.Entity(game, x, y, &#x27;Troll&#x27;, new wglt.Sprite(64, 16, 16, 16, 2, true), true);</div>
<div class="c0">         }</div>
<div class="c0"> </div>
<div class="c2">+        monster.health = 20;</div>
<div class="c2">+        monster.ai = new wglt.BasicMonster(monster);</div>
<div class="c2">+        monster.onDeath = monsterDeath;</div>
<div class="c0">         game.entities.push(monster);</div>
<div class="c0">     }</div>
<div class="c0"> }</div>
<div class="c0"> </div>
<div class="c2">+function playerDeath(player) {</div>
<div class="c2">+    console.log(&#x27;You died!&#x27;);</div>
<div class="c2">+}</div>
<div class="c2">+</div>
<div class="c2">+function monsterDeath(monster) {</div>
<div class="c2">+    console.log(monster.name + &#x27; is dead&#x27;);</div>
<div class="c2">+    monster.char = &#x27;%&#x27;;</div>
<div class="c2">+    monster.color = wglt.Colors.DARK_RED;</div>
<div class="c2">+    monster.blocks = false;</div>
<div class="c2">+    monster.fighter = null;</div>
<div class="c2">+    monster.ai = null;</div>
<div class="c2">+    monster.name = &#x27;remains of &#x27; + monster.name;</div>
<div class="c2">+    monster.sendToBack();</div>
<div class="c2">+}</div>
<div class="c2">+</div>
<div class="c0"> const app = new wglt.App({</div>
<div class="c0">     canvas: document.querySelector(&#x27;canvas&#x27;),</div>
<div class="c0">     imageUrl: &#x27;../graphics.png&#x27;,</div>
<!--ENDDIFF-->
    </div>
    <script src="../../dist/index.js"></script>
	<script src="part6.js"></script>
</body>

</html>
