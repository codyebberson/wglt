!function(t,i){if("object"===typeof exports&&"object"===typeof module)module.t=i();else if("function"===typeof define&&define.amd)define([],i);else{var s=i();for(var h in s)("object"===typeof exports?exports:t)[h]=s[h]}}(window,(function(){return function(t){var i={};function s(h){if(i[h])return i[h].t;var e=i[h]={i:h,s:!1,t:{}};return t[h].call(e.t,e,e.t,s),e.s=!0,e.t}return s.h=t,s.c=i,s.d=function(t,i,h){s.o(t,i)||Object.defineProperty(t,i,{K:!0,get:h})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"_",{value:!0})},s.V=function(t,i){if(1&i&&(t=s(t)),8&i)return t;if(4&i&&"object"===typeof t&&t&&t._)return t;var h=Object.create(null);if(s.r(h),Object.defineProperty(h,"default",{K:!0,value:t}),2&i&&"string"!=typeof t)for(var e in t)s.d(h,e,function(i){return t[i]}.bind(null,e));return h},s.n=function(t){var i=t&&t._?function(){return t.default}:function(){return t};return s.d(i,"a",i),i},s.o=function(t,i){return Object.prototype.hasOwnProperty.call(t,i)},s.u="",s(s.A=0)}([function(t,i,s){"use strict";s.r(i);const h=[[1,0,1,0],[1,0,1,1],[1,0,1,2],[2,0,2,1],[0,0,2,1],[0,0,1,2],[2,0,2,2],[2,0,2,0],[0,0,2,2],[2,0,0,2],[2,0,0,1],[1,0,0,2],[0,0,1,1],[1,1,0,0],[1,1,0,1],[0,1,1,1],[1,1,1,0],[0,1,0,1],[1,1,1,1],[1,2,1,0],[2,1,2,0],[2,2,0,0],[0,2,2,0],[2,2,0,2],[0,2,2,2],[2,2,2,0],[0,2,0,2],[2,2,2,2],[1,2,0,2],[2,1,0,1],[0,2,1,2],[0,1,2,1],[2,1,0,0],[1,2,0,0],[0,2,1,0],[0,1,2,0],[2,1,2,1],[1,2,1,2],[1,0,0,1],[0,1,1,0]];function e(t,i,s){const h=t.l(i,s).charCode;return h>=179&&h<=218}function r(t,i,s,e){if(i<0||s<0||i>=t.width||s>=t.height)return 0;const r=t.l(i,s).charCode;return r<179||r>218?0:h[r-179][e]}function n(t,i,s,e){for(let r=0;r<h.length;r++){const n=h[r];if(n[0]===t&&n[1]===i&&n[2]===s&&n[3]===e)return 179+r}return 0}function o(t,i,s,h){return void 0===h&&(h=255),(t<<24)+(i<<16)+(s<<8)+h}const K={C:o(0,0,0),g:o(255,255,255),O:o(170,170,170),N:o(85,85,85),R:o(255,255,85),M:o(170,85,0),T:o(255,85,85),D:o(170,0,0),U:o(85,255,85),v:o(0,170,0),L:o(85,255,255),p:o(0,170,170),S:o(85,85,255),F:o(0,0,170),P:o(255,85,255),I:o(170,0,170),B:o(255,136,0)},_=0,c=1,V=2;class u{constructor(t,i,s,h){this.charCode=void 0!==t?function(t){return"string"===typeof t&&t.length>0?t.charCodeAt(0):t}(t):" ".charCodeAt(0),this.G=void 0!==i?i:K.g,this.H=void 0!==s?s:K.C,void 0!==h&&(this.m=h),this.Y=!0}W(t){this.charCode!==t&&(this.charCode=t,this.Y=!0)}k(t){void 0!==t&&null!==t&&t!==this.G&&(this.G=t,this.Y=!0)}J(t){void 0!==t&&null!==t&&t!==this.H&&(this.H=t,this.Y=!0)}j(t){void 0!==t&&(this.m=t,this.Y=!0)}X(t,i,s,h){return"string"===typeof t&&(t=t.charCodeAt(0)),"number"===typeof t?(this.W(t),this.k(i),this.J(s),this.j(h)):this.q(t,_),this.Y}q(t,i){const s=255&t.H;i===_||t.charCode>0?(this.W(t.charCode),this.k(t.G)):s>0&&s<255&&this.k(this.Z(this.G,t.H,i)),i===_||255===s?this.J(t.H):s>0&&this.J(this.Z(this.H,t.H,i)),this.j(t.m)}Z(t,i,s){const h=(255-(255&i))/255,e=1-h,r=t>>24&255,n=t>>16&255,K=t>>8&255,_=i>>24&255,u=i>>16&255,A=i>>8&255;switch(s){case c:return o(h*r+e*_|0,h*n+e*u|0,h*K+e*A|0);case V:return o(this.$(r+e*_|0),this.$(n+e*u|0),this.$(K+e*A|0));default:return i}}$(t){return Math.min(255,t)}}const A=179,l=186,a=187,E=188,f=191,d=192,C=196,w=197,g=200,O=201,N=205,R=206,M=217,T=218;class D{constructor(t,i,s){this.width=t,this.height=i,this.tt=new Array;const h=s||u;for(let s=0;s<i;s++){const i=new Array;for(let e=0;e<t;e++)i.push(new h(e,s));this.tt.push(i)}this.clear()}clear(){for(let t=0;t<this.height;t++)for(let i=0;i<this.width;i++)this.it(i,t,0)}l(t,i){if(!(t<0||i<0||t>=this.width||i>=this.height))return this.tt[i][t]}st(t,i){if(!(t<0||i<0||t>=this.width||i>=this.height))return this.tt[i][t].charCode}it(t,i,s,h,e){t>=0&&t<this.width&&i>=0&&i<this.height&&this.tt[i][t].X(s,h,e)}ht(t,i,s,h,e){const r=s.split("\n");for(let s=0;s<r.length;s++){const n=r[s];for(let r=0;r<n.length;r++)this.it(t+r,i+s,n.charCodeAt(r),h,e)}}et(t,i,s,h,e){this.ht(t-Math.floor(s.length/2),i,s,h,e)}rt(t,i,s,h,e,r){for(let n=t;n<t+s;n++)this.it(n,i,h,e,r)}nt(t,i,s,h,e,r){for(let n=i;n<i+s;n++)this.it(t,n,h,e,r)}ot(t,i,s,h,e,r,n){this.rt(t,i,s,e,r,n),this.rt(t,i+h-1,s,e,r,n),this.nt(t,i,h,e,r,n),this.nt(t+s-1,i,h,e,r,n)}Kt(t,i,s,h,e,r,n,o,K,_,c,V,u,A){this.fillRect(t,i,s,h,0,u,A),this.rt(t,i,s,e),this.rt(t,i+h-1,s,n),this.nt(t,i,h,o),this.nt(t+s-1,i,h,r),this.it(t,i,K),this.it(t+s-1,i,_),this.it(t,i+h-1,V),this.it(t+s-1,i+h-1,c)}_t(t,i,s,h,e,r){this.Kt(t,i,s,h,C,A,C,A,T,f,M,d,e,r)}ct(t,i,s,h,e,r){this.Kt(t,i,s,h,N,l,N,l,O,a,E,g,e,r)}fillRect(t,i,s,h,e,r,n){for(let o=i;o<i+h;o++)this.rt(t,o,s,e,r,n)}Vt(t,i,s,h,e,r,n,o){o=o||_;for(let K=0;K<n;K++)for(let n=0;n<r;n++){const r=s.l(h+n,e+K);r&&this.q(t+n,i+K,r,o)}}q(t,i,s,h){t>=0&&t<this.width&&i>=0&&i<this.height&&this.tt[i][t].q(s,h)}}const U=new class{constructor(t,i,s,h,e){this.url=t,this.ut=i,this.At=s,this.scale=h||1,this.lt=!!e}}("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACAAQMAAAD58POIAAAABlBMVEUAAAD///+l2Z/dAAAEhklEQVRIx42Sv4oUQRDGC4UzadSwwMUD8QEKlbWD4Q58B/NGpTVocKO1wXHUzMAH0AcwMTYVGg5ag0IzEXaRjdZEZKNzkKbHqtnzHypY09M9+5uvqr7pbYCuC6ftaRhgONXs30eAh0O1rYDm4IS/eH0B8GxRW2vxo396yu/fb0ZFrW1zcOXlPU/XPwK8PGjbWhVwM4KnH61912oK4+zmmHJaQotyt1kvtC2Atdo24iohPDiG/v4eICJsY3Wy8Yvr0DSIBOdxgH6v8wsriWhc8s0AtaK/GzSl1jR0nSjQnwki6FQxNFKjgzO2a7BBqucH7dL4M9z96CIhT1Fs/AgKgcA6dKCxI29DaHNwRJ4EGAU1sU0OG9rmE4SIc3A4FChACqqhJRwpxkqh9wxag4DSmEJ5DtpFwAP4GUf6lmKcFFti1BYuQp4xN8kxM2kNhjdkTOiTUeAKGvhA1rLpMbYACQzCITlTDRMbLYoEa2JWPSMRFZIupcSzMVKcEUkX+sOG+ChNX2vD8ex6k7OFHL0P1655JuPd53WAD+yTv3UrCQiuHmYBbfIxpkImuvpBQBkVb5g4XHv3JkNireG8AO9zDhBZu2z2OMZ11S5/RIlyMefMNaZ4GsCz5xcjyM6hHYEjAYEfO8Ig1rklAe9sRIeYAdwyoIBq6YIzCAKiWoifA3m3o2AzWcdYKOdY47EIf8QABCuYgIUVmdVMEYEDA0Hmo/3D6KKJbh5mxhP3UsWIE97wnEygyizOfOLi2JOJW8CeOblW9IHeKZgv4zxuzDryOmb+4aQH+MXV6e0ywdUcxqCjBWl5GpbzZduOG1QEiGXP86T7EfiJfkMQ4OO4H0yqyNC2zlziWEN7Ywuc2fQ4p5BNkS5QYXP2h5NtRJh0vCKQidtVJmCGAwDSSQpYggSxiRIyzewsgCh4xxiTPDMh5aj//l7btqkr6rQyIOtLji4lVRQwXdzvus40Y53M33fh50GZwF4ExQeMlvuTggLzSi4ElKczUO7zVtpwdyMKdqZKOWb2nDblawPxPmuMwFEWBW+jlZR1eYtS442kiBGMWCi/h1/+GAR6NYOJWiqNJXFygFtrkx5C0O3IeFGs67HhEEhmBu/BUOT+0551pXxYIF+Elpi5AKRkLl5GUbCCZddyMv621ujEBPP4vSy2fotTx3U+d3WBiFOA6VSGSB49v/M7GBX9FPrDaT2c9qr4PCpwZ7qz813R94dVFIe19v33GlMZUghQFb8BrfE7QBmgBMbrn2B3enn/y3B5+DL8UBAdnejdYdBxeV9ejwoYNTgW0Ok/gA7UG2GAzanhL0DG7q4svynwF8UwDPu7u/vD0IudzSltMtVbP+J/gUbR29oJ7Fg9s6Uy+DnpiTCOYc4cXOeXMWfsusSw7FOg9x655nax6BlecwpOQQ68WBwp+H2LMQTuOq2RUigzh2Q/R3CWARJIJG199EwOTyKBlQMznshCRGeQ5gHABAQl6M4gLEdAzVaBWMCiANdsayDCHBA/hagKYfielrJIlipKKQIA9Nf3wBloTHT6BuAx15zRNa1nAAAAAElFTkSuQmCC",8,8);class v{constructor(){this.at=!1,this.Et=0,this.ft=0}update(){this.at?(this.Et++,this.ft=0):(this.Et=0,this.ft++)}dt(){const t=this.Et;return 1===t||t>6&&t%1===0}Ct(){return 1===this.ft}}class L{constructor(t){this.keys=new Array(256);for(let t=0;t<256;t++)this.keys[t]=new v;t.addEventListener("keydown",t=>this.wt(t,!0)),t.addEventListener("keyup",t=>this.wt(t,!1))}wt(t,i){const s=t.keyCode;s!==p.gt&&(t.stopPropagation(),t.preventDefault(),s>=0&&s<256&&(this.keys[s].at=i))}Ot(){for(let t=0;t<256;t++)this.keys[t].update()}getKey(t){return t>=0&&t<256?this.keys[t]:null}}const p={Nt:3,Rt:6,Mt:8,Tt:9,Dt:12,Ut:13,vt:16,Lt:17,pt:18,St:19,yt:20,Ft:27,Pt:32,It:33,bt:34,Bt:35,Gt:36,Ht:37,xt:38,Yt:39,Qt:40,zt:44,Wt:45,kt:46,Jt:48,jt:49,Xt:50,qt:51,Zt:52,$t:53,ti:54,ii:55,si:56,hi:57,ei:58,ri:59,ni:60,oi:61,Ki:62,_i:63,ci:64,Vi:65,ui:66,Ai:67,li:68,ai:69,Ei:70,fi:71,di:72,Ci:73,wi:74,gi:75,Oi:76,Ni:77,Ri:78,Mi:79,Ti:80,Di:81,Ui:82,vi:83,Li:84,pi:85,Si:86,yi:87,Fi:88,Pi:89,Ii:90,bi:93,Bi:96,Gi:97,Hi:98,mi:99,xi:100,Yi:101,Qi:102,zi:103,Wi:104,ki:105,Ji:106,ji:107,Xi:108,qi:109,Zi:110,$i:111,ts:112,ss:113,hs:114,es:115,rs:116,ns:117,os:118,Ks:119,_s:120,cs:121,gt:122,Vs:123,us:124,As:125,ls:126,as:127,Es:128,fs:129,ds:130,Cs:131,ws:132,gs:133,Os:134,Ns:135,Rs:144,Ms:145,Ts:160,Ds:161,Us:162,vs:163,Ls:164,ps:165,Ss:166,ys:167,Fs:168,Ps:169,Is:170,bs:171,Bs:172,Gs:173,Hs:174,ms:175,xs:176,Ys:188,Qs:190,zs:191,Ws:192,ks:219,Js:220,js:221,Xs:222,qs:224,Zs:225,$s:91,th:21,ih:21,sh:22,hh:23,eh:24,rh:25,nh:25,oh:28,Kh:29,_h:30,Vh:31,uh:41,Ah:42,lh:43,ah:95};class S{constructor(t,i){this.x=t,this.y=i}}class y{constructor(t,i,s,h){this.x=this.left=t,this.y=this.top=i,this.width=s,this.height=h,this.x2=t+s,this.y2=i+h}Eh(){return new S(this.x+this.width/2|0,this.y+this.height/2|0)}fh(t){return this.x<=t.x2&&this.x2>=t.x&&this.y<=t.y2&&this.y2>=t.y}contains(t){return t.x>=this.x&&t.y<this.x2&&t.y>=this.y&&t.y<this.y2}}class F{constructor(t,i){this.dh=t.canvas,this.width=t.width,this.height=t.height,this.options=i,this.Ch=0,this.wh=0,this.x=0,this.y=0,this.dx=0,this.dy=0,this.buttons=[new v,new v,new v];const s=this.dh;s.addEventListener("mousedown",t=>this.gh(t)),s.addEventListener("mouseup",t=>this.gh(t)),s.addEventListener("mousemove",t=>this.gh(t)),s.addEventListener("contextmenu",t=>this.gh(t));const h=this.Oh.bind(this);s.addEventListener("touchstart",h),s.addEventListener("touchend",h),s.addEventListener("touchcancel",h),s.addEventListener("touchmove",h)}Oh(t){if(t.stopPropagation(),t.preventDefault(),"touchend"===t.type&&this.options.requestFullscreen&&this.requestFullscreen(),t.touches.length>0){const i=t.touches[0];this.Nh(i.clientX,i.clientY),this.buttons[0].at=!0}else this.buttons[0].at=!1}gh(t){t.stopPropagation(),t.preventDefault(),this.Nh(t.clientX,t.clientY),"mousedown"===t.type&&(this.buttons[t.button].at=!0,this.dh.focus(),this.options.requestFullscreen&&this.requestFullscreen()),"mouseup"===t.type&&(this.buttons[t.button].at=!1)}Nh(t,i){let s=this.dh.getBoundingClientRect();const h=this.width/this.height,e=s.width/s.height;if(e-h>.01){const t=h*s.height,i=s.width-t;s=new y(Math.floor(i/2),0,t,s.height)}if(e-h<-.01){const t=s.width/h,i=s.height-t;s=new y(0,Math.floor(i/2),s.width,t)}this.x=this.width*(t-s.left)/s.width|0,this.y=this.height*(i-s.top)/s.height|0}requestFullscreen(){const t=this.dh;t.requestFullscreen?t.requestFullscreen():t.webkitRequestFullscreen?t.webkitRequestFullscreen():t.mozRequestFullScreen&&t.mozRequestFullScreen()}update(){this.dx=this.x-this.Ch,this.dy=this.y-this.wh,this.Ch=this.x,this.wh=this.y;for(let t=0;t<this.buttons.length;t++)this.buttons[t].update()}}function P(t,i){return t/i*2-1}const I={font:U,requestFullscreen:!1};const b=new class extends D{constructor(t,i,s,h){super(i,s),h=h||I,this.canvas=t,this.font=h.font||U,this.pixelWidth=i*this.font.ut,this.pixelHeight=s*this.font.At,t.width=this.pixelWidth,t.height=this.pixelHeight,t.style.width=this.font.scale*this.pixelWidth+"px",t.style.height=this.font.scale*this.pixelHeight+"px",t.style.imageRendering="pixelated",t.style.outline="none",t.tabIndex=0,this.Rh(),window.addEventListener("resize",()=>this.Rh()),this.keys=new L(t),this.Mh=new F(this,h);const e=t.getContext("webgl",{Th:!1});if(!e)throw new Error("Unable to initialize WebGL. Your browser may not support it.");const r=e.createProgram();if(!r)throw new Error("Unable to initialize WebGL. Your browser may not support it.");this.Dh=e,this.Uh=r,e.attachShader(r,this.vh(e.VERTEX_SHADER,"attribute vec2 a;attribute vec2 b;attribute vec3 c;attribute vec3 d;varying highp vec2 e;varying highp vec4 f;varying highp vec4 g;void main(void){gl_Position=vec4(a.x,a.y,0,1);e=b/16.0;f=vec4(c.r,c.g,c.b,1);g=vec4(d.r,d.g,d.b,1);}")),e.attachShader(r,this.vh(e.FRAGMENT_SHADER,"varying highp vec2 e;varying highp vec4 f;varying highp vec4 g;uniform bool h;uniform sampler2D s;void main(void){gl_FragColor=texture2D(s,e);if(h){if(gl_FragColor.a<0.1){gl_FragColor=texture2D(s,g.rg*16.0+fract(e*16.0)/16.0);}}else{if(gl_FragColor.r<0.1) {gl_FragColor=g;} else {gl_FragColor=f;}}}")),e.linkProgram(r),e.useProgram(r),this.font.lt&&e.uniform1i(e.getUniformLocation(r,"h"),1),this.Lh=this.getAttribLocation("a"),this.ph=this.getAttribLocation("b"),this.Sh=this.getAttribLocation("c"),this.yh=this.getAttribLocation("d");const n=i*s;this.Fh=new Float32Array(3*n*4),this.Ph=new Uint16Array(6*n),this.Ih=new Float32Array(2*n*4),this.bh=new Uint8Array(4*n*4),this.Bh=new DataView(this.bh.buffer),this.Gh=new Uint8Array(4*n*4),this.Hh=new DataView(this.Gh.buffer);let o=0,K=0,_=0;for(let t=0;t<s;t++)for(let h=0;h<i;h++)this.Fh[o++]=P(h,i),this.Fh[o++]=-P(t,s),this.Fh[o++]=P(h+1,i),this.Fh[o++]=-P(t,s),this.Fh[o++]=P(h+1,i),this.Fh[o++]=-P(t+1,s),this.Fh[o++]=P(h,i),this.Fh[o++]=-P(t+1,s),this.Ph[K++]=_+0,this.Ph[K++]=_+1,this.Ph[K++]=_+2,this.Ph[K++]=_+0,this.Ph[K++]=_+2,this.Ph[K++]=_+3,_+=4;this.mh=e.createBuffer(),this.xh=e.createBuffer(),this.Yh=e.createBuffer(),this.Qh=e.createBuffer(),this.zh=e.createBuffer(),e.bindBuffer(e.ARRAY_BUFFER,this.mh),e.bufferData(e.ARRAY_BUFFER,this.Fh,e.STATIC_DRAW),e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,this.xh),e.bufferData(e.ELEMENT_ARRAY_BUFFER,this.Ph,e.STATIC_DRAW),this.Wh=this.kh(this.font.url),window.setInterval(()=>this.Jh(),1e3/30)}Rh(){const t=this.canvas.parentElement.offsetWidth/this.pixelWidth,i=this.canvas.parentElement.offsetHeight/this.pixelHeight,s=Math.min(t,i),h=s*this.pixelWidth|0,e=s*this.pixelHeight|0;this.canvas.style.width=h+"px",this.canvas.style.height=e+"px"}getAttribLocation(t){const i=this.Dh.getAttribLocation(this.Uh,t);return this.Dh.enableVertexAttribArray(i),i}flush(){let t=0,i=0;for(let s=0;s<this.height;s++)for(let h=0;h<this.width;h++){const e=this.l(h,s);if(!e.Y){t+=8,i+=16;continue}const r=e.charCode%16,n=e.charCode/16|0;this.Ih[t++]=r,this.Ih[t++]=n,this.Ih[t++]=r+1,this.Ih[t++]=n,this.Ih[t++]=r+1,this.Ih[t++]=n+1,this.Ih[t++]=r,this.Ih[t++]=n+1;for(let t=0;t<4;t++)this.Bh.setUint32(i,e.G,!1),this.Hh.setUint32(i,e.H,!1),i+=4;e.Y=!1}}jh(t){const i=this.keys.getKey(t);return i&&i.at}Xh(t){const i=this.keys.getKey(t);return i&&i.dt()}qh(t){const i=this.keys.getKey(t);return i?i.Et:0}vh(t,i){const s=this.Dh,h=s.createShader(t);if(!h)throw new Error("An error occurred compiling the shader: ");if(s.shaderSource(h,i),s.compileShader(h),!s.getShaderParameter(h,s.COMPILE_STATUS))throw new Error("An error occurred compiling the shader: "+s.getShaderInfoLog(h));return h}kh(t){const i=this.Dh,s=i.createTexture();i.bindTexture(i.TEXTURE_2D,s);const h=i.RGBA,e=i.RGBA,r=i.UNSIGNED_BYTE,n=new Uint8Array([0,0,0,255]);i.texImage2D(i.TEXTURE_2D,0,h,1,1,0,e,r,n);const o=new Image;return o.onload=()=>{i.bindTexture(i.TEXTURE_2D,s),i.texImage2D(i.TEXTURE_2D,0,h,e,r,o),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_WRAP_S,i.CLAMP_TO_EDGE),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_WRAP_T,i.CLAMP_TO_EDGE),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MAG_FILTER,i.LINEAR),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MIN_FILTER,i.LINEAR)},o.src=t,s}Zh(){const t=this.Dh;t.clearColor(0,0,0,1),t.clearDepth(1),t.clear(t.COLOR_BUFFER_BIT|t.DEPTH_BUFFER_BIT),t.viewport(0,0,this.pixelWidth,this.pixelHeight);{const i=2,s=t.FLOAT,h=!1,e=0,r=0;t.bindBuffer(t.ARRAY_BUFFER,this.mh),t.vertexAttribPointer(this.Lh,i,s,h,e,r)}{const i=2,s=t.FLOAT,h=!1,e=0,r=0;t.bindBuffer(t.ARRAY_BUFFER,this.Yh),t.bufferData(t.ARRAY_BUFFER,this.Ih,t.DYNAMIC_DRAW),t.vertexAttribPointer(this.ph,i,s,h,e,r)}{const i=4,s=t.UNSIGNED_BYTE,h=!0,e=0,r=0;t.bindBuffer(t.ARRAY_BUFFER,this.Qh),t.bufferData(t.ARRAY_BUFFER,this.bh,t.DYNAMIC_DRAW),t.vertexAttribPointer(this.Sh,i,s,h,e,r)}{const i=4,s=t.UNSIGNED_BYTE,h=!0,e=0,r=0;t.bindBuffer(t.ARRAY_BUFFER,this.zh),t.bufferData(t.ARRAY_BUFFER,this.Gh,t.DYNAMIC_DRAW),t.vertexAttribPointer(this.yh,i,s,h,e,r)}t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,this.xh),t.useProgram(this.Uh),t.activeTexture(t.TEXTURE0),t.bindTexture(t.TEXTURE_2D,this.Wh);{const i=this.width*this.height*6,s=t.UNSIGNED_SHORT,h=0;t.drawElements(t.TRIANGLES,i,s,h)}}Jh(){this.keys.Ot(),this.Mh.update(),this.update&&this.update(),this.state&&this.state.update(),this.flush(),this.Zh()}}(document.querySelector("canvas"),80,45),B=new D(80,45);for(let t=0;t<45;t++)for(let i=0;i<80;i++)if(Math.random()<.5){const s=Math.random()<.5?w:R;B.l(i,t).X(s,K.g,K.F)}!function(t){for(let i=0;i<t.height;i++)for(let s=0;s<t.width;s++)if(e(t,s,i)){let h=r(t,s,i-1,2),e=r(t,s+1,i,3),o=r(t,s,i+1,0),K=r(t,s-1,i,1);h>0&&0===e&&0===o&&0===K?o=h:0===h&&e>0&&0===o&&0===K?K=e:0===h&&0===e&&o>0&&0===K?h=o:0===h&&0===e&&0===o&&K>0&&(e=K),K>0&&e>0&&(K=e=Math.max(K,e)),h>0&&o>0&&(h=o=Math.max(h,o));const _=n(h,e,o,K);if((h||e||o||K)&&!(_>=179&&_<=218))throw new Error("invalid char code! (up="+h+", right="+e+", down="+o+", left="+K+")");t.l(s,i).W(_)}}(B),b.update=function(){b.clear(),b.Vt(0,0,B,0,0,80,45),b.ht(1,1,"Hello world!",K.g)}}])}));