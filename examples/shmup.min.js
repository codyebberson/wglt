!function(t,s){if("object"===typeof exports&&"object"===typeof module)module.t=s();else if("function"===typeof define&&define.amd)define([],s);else{var i=s();for(var h in i)("object"===typeof exports?exports:t)[h]=i[h]}}(window,(function(){return function(t){var s={};function i(h){if(s[h])return s[h].t;var e=s[h]={s:h,i:!1,t:{}};return t[h].call(e.t,e,e.t,i),e.i=!0,e.t}return i.h=t,i.c=s,i.d=function(t,s,h){i.o(t,s)||Object.defineProperty(t,s,{K:!0,get:h})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"_",{value:!0})},i.V=function(t,s){if(1&s&&(t=i(t)),8&s)return t;if(4&s&&"object"===typeof t&&t&&t._)return t;var h=Object.create(null);if(i.r(h),Object.defineProperty(h,"default",{K:!0,value:t}),2&s&&"string"!=typeof t)for(var e in t)i.d(h,e,function(s){return t[s]}.bind(null,e));return h},i.n=function(t){var s=t&&t._?function(){return t.default}:function(){return t};return i.d(s,"a",s),s},i.o=function(t,s){return Object.prototype.hasOwnProperty.call(t,s)},i.l="",i(i.u=0)}([function(t,s,i){"use strict";function h(t,s,i,h){return void 0===h&&(h=255),(t<<24)+(s<<16)+(i<<8)+h}i.r(s);const e={A:h(0,0,0),C:h(255,255,255),g:h(170,170,170),O:h(85,85,85),N:h(255,255,85),M:h(170,85,0),R:h(255,85,85),T:h(170,0,0),D:h(85,255,85),U:h(0,170,0),v:h(85,255,255),L:h(0,170,170),S:h(85,85,255),F:h(0,0,170),I:h(255,85,255),p:h(170,0,170),P:h(255,136,0)};class r{constructor(){this.B=!1,this.G=0,this.m=0}update(){this.B?(this.G++,this.m=0):(this.G=0,this.m++)}H(){const t=this.G;return 1===t||t>6&&t%1===0}Y(){return 1===this.m}}class n{constructor(t){this.keys=new Array(256);for(let t=0;t<256;t++)this.keys[t]=new r;t.addEventListener("keydown",t=>this.W(t,!0)),t.addEventListener("keyup",t=>this.W(t,!1))}W(t,s){const i=t.keyCode;i!==o.k&&(t.stopPropagation(),t.preventDefault(),i>=0&&i<256&&(this.keys[i].B=s))}J(){for(let t=0;t<256;t++)this.keys[t].update()}getKey(t){return t>=0&&t<256?this.keys[t]:null}}const o={j:3,X:6,q:8,Z:9,$:12,tt:13,st:16,it:17,ht:18,et:19,rt:20,nt:27,ot:32,Kt:33,_t:34,ct:35,Vt:36,lt:37,at:38,ut:39,At:40,Et:44,ft:45,dt:46,Ct:48,wt:49,gt:50,Ot:51,Nt:52,Mt:53,yt:54,Rt:55,Tt:56,Dt:57,Ut:58,vt:59,Lt:60,St:61,Ft:62,It:63,pt:64,Pt:65,xt:66,bt:67,Bt:68,Gt:69,Ht:70,Yt:71,Qt:72,zt:73,Wt:74,kt:75,Jt:76,jt:77,Xt:78,qt:79,Zt:80,$t:81,ts:82,ss:83,hs:84,es:85,rs:86,ns:87,os:88,Ks:89,_s:90,cs:93,Vs:96,ls:97,as:98,us:99,As:100,Es:101,fs:102,ds:103,Cs:104,ws:105,gs:106,Os:107,Ns:108,Ms:109,ys:110,Rs:111,Ts:112,Ds:113,Us:114,vs:115,Ls:116,Ss:117,Fs:118,Is:119,ps:120,Ps:121,k:122,xs:123,bs:124,Bs:125,Gs:126,ms:127,Hs:128,Ys:129,Qs:130,zs:131,Ws:132,ks:133,Js:134,js:135,Xs:144,qs:145,Zs:160,$s:161,ti:162,si:163,ii:164,hi:165,ei:166,ri:167,ni:168,oi:169,Ki:170,_i:171,ci:172,Vi:173,li:174,ai:175,ui:176,Ai:188,Ei:190,fi:191,di:192,Ci:219,wi:220,gi:221,Oi:222,Ni:224,Mi:225,yi:91,Ri:21,Ti:21,Di:22,Ui:23,vi:24,Li:25,Si:25,Fi:28,Ii:29,pi:30,Pi:31,xi:41,bi:42,Bi:43,Gi:95};const K=0,_=1,c=2;class V{constructor(t,s,i,h){this.charCode=void 0!==t?function(t){return"string"===typeof t&&t.length>0?t.charCodeAt(0):t}(t):" ".charCodeAt(0),this.mi=void 0!==s?s:e.C,this.Hi=void 0!==i?i:e.A,void 0!==h&&(this.Yi=h),this.Qi=!0}zi(t){this.charCode!==t&&(this.charCode=t,this.Qi=!0)}Wi(t){void 0!==t&&null!==t&&t!==this.mi&&(this.mi=t,this.Qi=!0)}ki(t){void 0!==t&&null!==t&&t!==this.Hi&&(this.Hi=t,this.Qi=!0)}Ji(t){void 0!==t&&(this.Yi=t,this.Qi=!0)}ji(t,s,i,h){return"string"===typeof t&&(t=t.charCodeAt(0)),"number"===typeof t?(this.zi(t),this.Wi(s),this.ki(i),this.Ji(h)):this.Xi(t,K),this.Qi}Xi(t,s){const i=255&t.Hi;s===K||t.charCode>0?(this.zi(t.charCode),this.Wi(t.mi)):i>0&&i<255&&this.Wi(this.qi(this.mi,t.Hi,s)),s===K||255===i?this.ki(t.Hi):i>0&&this.ki(this.qi(this.Hi,t.Hi,s)),this.Ji(t.Yi)}qi(t,s,i){const e=(255-(255&s))/255,r=1-e,n=t>>24&255,o=t>>16&255,K=t>>8&255,V=s>>24&255,l=s>>16&255,a=s>>8&255;switch(i){case _:return h(e*n+r*V|0,e*o+r*l|0,e*K+r*a|0);case c:return h(this.Zi(n+r*V|0),this.Zi(o+r*l|0),this.Zi(K+r*a|0));default:return s}}Zi(t){return Math.min(255,t)}}const l=179,a=186,u=187,A=188,E=191,f=192,d=196,C=200,w=201,g=205,O=217,N=218;const M=new class{constructor(t,s,i,h,e){this.url=t,this.$i=s,this.th=i,this.scale=h||1,this.sh=!!e}}("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACAAQMAAAD58POIAAAABlBMVEUAAAD///+l2Z/dAAAEhklEQVRIx42Sv4oUQRDGC4UzadSwwMUD8QEKlbWD4Q58B/NGpTVocKO1wXHUzMAH0AcwMTYVGg5ag0IzEXaRjdZEZKNzkKbHqtnzHypY09M9+5uvqr7pbYCuC6ftaRhgONXs30eAh0O1rYDm4IS/eH0B8GxRW2vxo396yu/fb0ZFrW1zcOXlPU/XPwK8PGjbWhVwM4KnH61912oK4+zmmHJaQotyt1kvtC2Atdo24iohPDiG/v4eICJsY3Wy8Yvr0DSIBOdxgH6v8wsriWhc8s0AtaK/GzSl1jR0nSjQnwki6FQxNFKjgzO2a7BBqucH7dL4M9z96CIhT1Fs/AgKgcA6dKCxI29DaHNwRJ4EGAU1sU0OG9rmE4SIc3A4FChACqqhJRwpxkqh9wxag4DSmEJ5DtpFwAP4GUf6lmKcFFti1BYuQp4xN8kxM2kNhjdkTOiTUeAKGvhA1rLpMbYACQzCITlTDRMbLYoEa2JWPSMRFZIupcSzMVKcEUkX+sOG+ChNX2vD8ex6k7OFHL0P1655JuPd53WAD+yTv3UrCQiuHmYBbfIxpkImuvpBQBkVb5g4XHv3JkNireG8AO9zDhBZu2z2OMZ11S5/RIlyMefMNaZ4GsCz5xcjyM6hHYEjAYEfO8Ig1rklAe9sRIeYAdwyoIBq6YIzCAKiWoifA3m3o2AzWcdYKOdY47EIf8QABCuYgIUVmdVMEYEDA0Hmo/3D6KKJbh5mxhP3UsWIE97wnEygyizOfOLi2JOJW8CeOblW9IHeKZgv4zxuzDryOmb+4aQH+MXV6e0ywdUcxqCjBWl5GpbzZduOG1QEiGXP86T7EfiJfkMQ4OO4H0yqyNC2zlziWEN7Ywuc2fQ4p5BNkS5QYXP2h5NtRJh0vCKQidtVJmCGAwDSSQpYggSxiRIyzewsgCh4xxiTPDMh5aj//l7btqkr6rQyIOtLji4lVRQwXdzvus40Y53M33fh50GZwF4ExQeMlvuTggLzSi4ElKczUO7zVtpwdyMKdqZKOWb2nDblawPxPmuMwFEWBW+jlZR1eYtS442kiBGMWCi/h1/+GAR6NYOJWiqNJXFygFtrkx5C0O3IeFGs67HhEEhmBu/BUOT+0551pXxYIF+Elpi5AKRkLl5GUbCCZddyMv621ujEBPP4vSy2fotTx3U+d3WBiFOA6VSGSB49v/M7GBX9FPrDaT2c9qr4PCpwZ7qz813R94dVFIe19v33GlMZUghQFb8BrfE7QBmgBMbrn2B3enn/y3B5+DL8UBAdnejdYdBxeV9ejwoYNTgW0Ok/gA7UG2GAzanhL0DG7q4svynwF8UwDPu7u/vD0IudzSltMtVbP+J/gUbR29oJ7Fg9s6Uy+DnpiTCOYc4cXOeXMWfsusSw7FOg9x655nax6BlecwpOQQ68WBwp+H2LMQTuOq2RUigzh2Q/R3CWARJIJG199EwOTyKBlQMznshCRGeQ5gHABAQl6M4gLEdAzVaBWMCiANdsayDCHBA/hagKYfielrJIlipKKQIA9Nf3wBloTHT6BuAx15zRNa1nAAAAAElFTkSuQmCC",8,8);class y{constructor(t,s){this.x=t,this.y=s}}class R{constructor(t,s,i,h){this.x=this.left=t,this.y=this.top=s,this.width=i,this.height=h,this.x2=t+i,this.y2=s+h}ih(){return new y(this.x+this.width/2|0,this.y+this.height/2|0)}hh(t){return this.x<=t.x2&&this.x2>=t.x&&this.y<=t.y2&&this.y2>=t.y}contains(t){return t.x>=this.x&&t.y<this.x2&&t.y>=this.y&&t.y<this.y2}}class T{constructor(t,s){this.eh=t.canvas,this.width=t.width,this.height=t.height,this.options=s,this.rh=0,this.nh=0,this.x=0,this.y=0,this.dx=0,this.dy=0,this.buttons=[new r,new r,new r];const i=this.eh;i.addEventListener("mousedown",t=>this.oh(t)),i.addEventListener("mouseup",t=>this.oh(t)),i.addEventListener("mousemove",t=>this.oh(t)),i.addEventListener("contextmenu",t=>this.oh(t));const h=this.Kh.bind(this);i.addEventListener("touchstart",h),i.addEventListener("touchend",h),i.addEventListener("touchcancel",h),i.addEventListener("touchmove",h)}Kh(t){if(t.stopPropagation(),t.preventDefault(),"touchend"===t.type&&this.options.requestFullscreen&&this.requestFullscreen(),t.touches.length>0){const s=t.touches[0];this._h(s.clientX,s.clientY),this.buttons[0].B=!0}else this.buttons[0].B=!1}oh(t){t.stopPropagation(),t.preventDefault(),this._h(t.clientX,t.clientY),"mousedown"===t.type&&(this.buttons[t.button].B=!0,this.eh.focus(),this.options.requestFullscreen&&this.requestFullscreen()),"mouseup"===t.type&&(this.buttons[t.button].B=!1)}_h(t,s){let i=this.eh.getBoundingClientRect();const h=this.width/this.height,e=i.width/i.height;if(e-h>.01){const t=h*i.height,s=i.width-t;i=new R(Math.floor(s/2),0,t,i.height)}if(e-h<-.01){const t=i.width/h,s=i.height-t;i=new R(0,Math.floor(s/2),i.width,t)}this.x=this.width*(t-i.left)/i.width|0,this.y=this.height*(s-i.top)/i.height|0}requestFullscreen(){const t=this.eh;t.requestFullscreen?t.requestFullscreen():t.webkitRequestFullscreen?t.webkitRequestFullscreen():t.mozRequestFullScreen&&t.mozRequestFullScreen()}update(){this.dx=this.x-this.rh,this.dy=this.y-this.nh,this.rh=this.x,this.nh=this.y;for(let t=0;t<this.buttons.length;t++)this.buttons[t].update()}}function D(t,s){return t/s*2-1}const U={font:M,requestFullscreen:!1};const v=new class extends class{constructor(t,s,i){this.width=t,this.height=s,this.Vh=new Array;const h=i||V;for(let i=0;i<s;i++){const s=new Array;for(let e=0;e<t;e++)s.push(new h(e,i));this.Vh.push(s)}this.clear()}clear(){for(let t=0;t<this.height;t++)for(let s=0;s<this.width;s++)this.lh(s,t,0)}ah(t,s){if(!(t<0||s<0||t>=this.width||s>=this.height))return this.Vh[s][t]}uh(t,s){if(!(t<0||s<0||t>=this.width||s>=this.height))return this.Vh[s][t].charCode}lh(t,s,i,h,e){t>=0&&t<this.width&&s>=0&&s<this.height&&this.Vh[s][t].ji(i,h,e)}Ah(t,s,i,h,e){const r=i.split("\n");for(let i=0;i<r.length;i++){const n=r[i];for(let r=0;r<n.length;r++)this.lh(t+r,s+i,n.charCodeAt(r),h,e)}}Eh(t,s,i,h,e){this.Ah(t-Math.floor(i.length/2),s,i,h,e)}fh(t,s,i,h,e,r){for(let n=t;n<t+i;n++)this.lh(n,s,h,e,r)}dh(t,s,i,h,e,r){for(let n=s;n<s+i;n++)this.lh(t,n,h,e,r)}Ch(t,s,i,h,e,r,n){this.fh(t,s,i,e,r,n),this.fh(t,s+h-1,i,e,r,n),this.dh(t,s,h,e,r,n),this.dh(t+i-1,s,h,e,r,n)}wh(t,s,i,h,e,r,n,o,K,_,c,V,l,a){this.fillRect(t,s,i,h,0,l,a),this.fh(t,s,i,e),this.fh(t,s+h-1,i,n),this.dh(t,s,h,o),this.dh(t+i-1,s,h,r),this.lh(t,s,K),this.lh(t+i-1,s,_),this.lh(t,s+h-1,V),this.lh(t+i-1,s+h-1,c)}gh(t,s,i,h,e,r){this.wh(t,s,i,h,d,l,d,l,N,E,O,f,e,r)}Oh(t,s,i,h,e,r){this.wh(t,s,i,h,g,a,g,a,w,u,A,C,e,r)}fillRect(t,s,i,h,e,r,n){for(let o=s;o<s+h;o++)this.fh(t,o,i,e,r,n)}Nh(t,s,i,h,e,r,n,o){o=o||K;for(let K=0;K<n;K++)for(let n=0;n<r;n++){const r=i.ah(h+n,e+K);r&&this.Xi(t+n,s+K,r,o)}}Xi(t,s,i,h){t>=0&&t<this.width&&s>=0&&s<this.height&&this.Vh[s][t].Xi(i,h)}}{constructor(t,s,i,h){super(s,i),h=h||U,this.canvas=t,this.font=h.font||M,this.pixelWidth=s*this.font.$i,this.pixelHeight=i*this.font.th,t.width=this.pixelWidth,t.height=this.pixelHeight,t.style.width=this.font.scale*this.pixelWidth+"px",t.style.height=this.font.scale*this.pixelHeight+"px",t.style.imageRendering="pixelated",t.style.outline="none",t.tabIndex=0,this.Mh(),window.addEventListener("resize",()=>this.Mh()),this.keys=new n(t),this.yh=new T(this,h);const e=t.getContext("webgl",{Rh:!1});if(!e)throw new Error("Unable to initialize WebGL. Your browser may not support it.");const r=e.createProgram();if(!r)throw new Error("Unable to initialize WebGL. Your browser may not support it.");this.Th=e,this.Dh=r,e.attachShader(r,this.Uh(e.VERTEX_SHADER,"attribute vec2 a;attribute vec2 b;attribute vec3 c;attribute vec3 d;varying highp vec2 e;varying highp vec4 f;varying highp vec4 g;void main(void){gl_Position=vec4(a.x,a.y,0,1);e=b/16.0;f=vec4(c.r,c.g,c.b,1);g=vec4(d.r,d.g,d.b,1);}")),e.attachShader(r,this.Uh(e.FRAGMENT_SHADER,"varying highp vec2 e;varying highp vec4 f;varying highp vec4 g;uniform bool h;uniform sampler2D s;void main(void){gl_FragColor=texture2D(s,e);if(h){if(gl_FragColor.a<0.1){gl_FragColor=texture2D(s,g.rg*16.0+fract(e*16.0)/16.0);}}else{if(gl_FragColor.r<0.1) {gl_FragColor=g;} else {gl_FragColor=f;}}}")),e.linkProgram(r),e.useProgram(r),this.font.sh&&e.uniform1i(e.getUniformLocation(r,"h"),1),this.vh=this.getAttribLocation("a"),this.Lh=this.getAttribLocation("b"),this.Sh=this.getAttribLocation("c"),this.Fh=this.getAttribLocation("d");const o=s*i;this.Ih=new Float32Array(3*o*4),this.ph=new Uint16Array(6*o),this.Ph=new Float32Array(2*o*4),this.xh=new Uint8Array(4*o*4),this.bh=new DataView(this.xh.buffer),this.Bh=new Uint8Array(4*o*4),this.Gh=new DataView(this.Bh.buffer);let K=0,_=0,c=0;for(let t=0;t<i;t++)for(let h=0;h<s;h++)this.Ih[K++]=D(h,s),this.Ih[K++]=-D(t,i),this.Ih[K++]=D(h+1,s),this.Ih[K++]=-D(t,i),this.Ih[K++]=D(h+1,s),this.Ih[K++]=-D(t+1,i),this.Ih[K++]=D(h,s),this.Ih[K++]=-D(t+1,i),this.ph[_++]=c+0,this.ph[_++]=c+1,this.ph[_++]=c+2,this.ph[_++]=c+0,this.ph[_++]=c+2,this.ph[_++]=c+3,c+=4;this.mh=e.createBuffer(),this.Hh=e.createBuffer(),this.Yh=e.createBuffer(),this.Qh=e.createBuffer(),this.zh=e.createBuffer(),e.bindBuffer(e.ARRAY_BUFFER,this.mh),e.bufferData(e.ARRAY_BUFFER,this.Ih,e.STATIC_DRAW),e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,this.Hh),e.bufferData(e.ELEMENT_ARRAY_BUFFER,this.ph,e.STATIC_DRAW),this.Wh=this.kh(this.font.url),window.setInterval(()=>this.Jh(),1e3/30)}Mh(){const t=this.canvas.parentElement.offsetWidth/this.pixelWidth,s=this.canvas.parentElement.offsetHeight/this.pixelHeight,i=Math.min(t,s),h=i*this.pixelWidth|0,e=i*this.pixelHeight|0;this.canvas.style.width=h+"px",this.canvas.style.height=e+"px"}getAttribLocation(t){const s=this.Th.getAttribLocation(this.Dh,t);return this.Th.enableVertexAttribArray(s),s}flush(){let t=0,s=0;for(let i=0;i<this.height;i++)for(let h=0;h<this.width;h++){const e=this.ah(h,i);if(!e.Qi){t+=8,s+=16;continue}const r=e.charCode%16,n=e.charCode/16|0;this.Ph[t++]=r,this.Ph[t++]=n,this.Ph[t++]=r+1,this.Ph[t++]=n,this.Ph[t++]=r+1,this.Ph[t++]=n+1,this.Ph[t++]=r,this.Ph[t++]=n+1;for(let t=0;t<4;t++)this.bh.setUint32(s,e.mi,!1),this.Gh.setUint32(s,e.Hi,!1),s+=4;e.Qi=!1}}jh(t){const s=this.keys.getKey(t);return s&&s.B}Xh(t){const s=this.keys.getKey(t);return s&&s.H()}qh(t){const s=this.keys.getKey(t);return s?s.G:0}Uh(t,s){const i=this.Th,h=i.createShader(t);if(!h)throw new Error("An error occurred compiling the shader: ");if(i.shaderSource(h,s),i.compileShader(h),!i.getShaderParameter(h,i.COMPILE_STATUS))throw new Error("An error occurred compiling the shader: "+i.getShaderInfoLog(h));return h}kh(t){const s=this.Th,i=s.createTexture();s.bindTexture(s.TEXTURE_2D,i);const h=s.RGBA,e=s.RGBA,r=s.UNSIGNED_BYTE,n=new Uint8Array([0,0,0,255]);s.texImage2D(s.TEXTURE_2D,0,h,1,1,0,e,r,n);const o=new Image;return o.onload=()=>{s.bindTexture(s.TEXTURE_2D,i),s.texImage2D(s.TEXTURE_2D,0,h,e,r,o),s.texParameteri(s.TEXTURE_2D,s.TEXTURE_WRAP_S,s.CLAMP_TO_EDGE),s.texParameteri(s.TEXTURE_2D,s.TEXTURE_WRAP_T,s.CLAMP_TO_EDGE),s.texParameteri(s.TEXTURE_2D,s.TEXTURE_MAG_FILTER,s.LINEAR),s.texParameteri(s.TEXTURE_2D,s.TEXTURE_MIN_FILTER,s.LINEAR)},o.src=t,i}Zh(){const t=this.Th;t.clearColor(0,0,0,1),t.clearDepth(1),t.clear(t.COLOR_BUFFER_BIT|t.DEPTH_BUFFER_BIT),t.viewport(0,0,this.pixelWidth,this.pixelHeight);{const s=2,i=t.FLOAT,h=!1,e=0,r=0;t.bindBuffer(t.ARRAY_BUFFER,this.mh),t.vertexAttribPointer(this.vh,s,i,h,e,r)}{const s=2,i=t.FLOAT,h=!1,e=0,r=0;t.bindBuffer(t.ARRAY_BUFFER,this.Yh),t.bufferData(t.ARRAY_BUFFER,this.Ph,t.DYNAMIC_DRAW),t.vertexAttribPointer(this.Lh,s,i,h,e,r)}{const s=4,i=t.UNSIGNED_BYTE,h=!0,e=0,r=0;t.bindBuffer(t.ARRAY_BUFFER,this.Qh),t.bufferData(t.ARRAY_BUFFER,this.xh,t.DYNAMIC_DRAW),t.vertexAttribPointer(this.Sh,s,i,h,e,r)}{const s=4,i=t.UNSIGNED_BYTE,h=!0,e=0,r=0;t.bindBuffer(t.ARRAY_BUFFER,this.zh),t.bufferData(t.ARRAY_BUFFER,this.Bh,t.DYNAMIC_DRAW),t.vertexAttribPointer(this.Fh,s,i,h,e,r)}t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,this.Hh),t.useProgram(this.Dh),t.activeTexture(t.TEXTURE0),t.bindTexture(t.TEXTURE_2D,this.Wh);{const s=this.width*this.height*6,i=t.UNSIGNED_SHORT,h=0;t.drawElements(t.TRIANGLES,s,i,h)}}Jh(){this.keys.J(),this.yh.update(),this.update&&this.update(),this.state&&this.state.update(),this.flush(),this.Zh()}}(document.querySelector("canvas"),80,45),L=new class{constructor(t){this.h=2147483648,this.a=1103515245,this.c=12345,this.state=t||1}$h(){return this.state=(this.a*this.state+this.c)%this.h,this.state}te(){return this.$h()/(this.h-1)}se(t,s){const i=s-t,h=t+(this.$h()/this.h*i|0);if(isNaN(h))throw new Error("rand nan");return h}ie(t){const s=t.reduce((t,s)=>t+s),i=this.se(1,s+1);let h=0;for(let s=0;s<t.length;s++)if(h+=t[s],i<=h)return s;return t.length-1}he(t){const s=[],i=[];for(const h in t)t.hasOwnProperty(h)&&(s.push(h),i.push(t[h]));return s[this.ie(i)]}},S={x:40,y:40,ee:0},F=[],I=[];for(let t=0;t<100;t++){const t=L.se(64,192);I.push({x:L.se(0,80),y:L.se(0,45),color:h(t,t,t),dy:L.se(1,4)})}const p=[],P=[{x:60,y:40},{x:70,y:30},{x:60,y:20},{x:40,y:40},{x:20,y:20},{x:10,y:30},{x:20,y:40}],x=[],b={count:0,startTime:0,endTime:0};let B=0;function G(){b.count++,b.startTime=B+180,b.endTime=b.startTime+150}G(),v.update=function(){const t=B-b.startTime;v.jh(o.at)&&(S.y=Math.max(0,S.y-1)),v.jh(o.lt)&&(S.x=Math.max(1,S.x-1)),v.jh(o.ut)&&(S.x=Math.min(78,S.x+1)),v.jh(o.At)&&(S.y=Math.min(43,S.y+1)),S.ee>0&&S.ee--,0===S.ee&&v.jh(o._s)&&(F.push({x:S.x,y:S.y}),S.ee=15),B>=b.startTime&&B<b.endTime&&t%10===0&&p.push({id:t/10,x:10,y:2,state:0});for(let s=p.length-1;s>=0;s--){const i=p[s];let h=0,e=0;if(i.state<0)h=S.x,e=S.y;else if(i.state<P.length)h=P[i.state].x,e=P[i.state].y;else{const t=Math.round(B%800/8),s=t<45?5+t:105-t,r=i.id%5,n=i.id/5|0,o=5;h=s+o*r,e=5+o*n}if(i.x===h&&i.y===e?i.state++:(i.x<h?i.x++:i.x>h&&i.x--,i.y<e?i.y++:i.y>e&&i.y--),t>=240&&(t-240)%60===0){const s=p.length-1-(t-240)/60;s>=0&&(p[s].state=-1)}}for(let t=F.length-1;t>=0;t--){const s=F[t];for(let t=p.length-1;t>=0;t--){const i=p[t];if(Math.abs(s.x-i.x)<=1&&Math.abs(s.y-i.y)<=1){p.splice(t,1);for(let t=0;t<10;t++)x.push({x:i.x,y:i.y,dx:L.se(-5,5)/10,dy:L.se(-5,5)/10,state:L.se(10,20)});0===p.length&&G();break}}}v.clear();for(let t=0;t<I.length;t++){const s=I[t];v.Ah(s.x,s.y,".",s.color),s.y+=s.dy,s.y>=45&&(s.y-=45,s.x=L.se(0,80))}for(let t=F.length-1;t>=0;t--){const s=F[t];v.Ah(s.x,s.y,"*",e.N),s.y-=2,s.y<0&&F.splice(t,1)}for(let t=x.length-1;t>=0;t--){const s=x[t];v.Ah(Math.round(s.x),Math.round(s.y),"%",e.P),s.x+=s.dx,s.y+=s.dy,s.dx*=.9,s.dy*=.9,s.state--,s.state<=0&&x.splice(t,1)}for(let t=p.length-1;t>=0;t--){const s=p[t];v.Ah(s.x,s.y,"#",e.D),v.Ah(s.x-1,s.y-1,"@",e.R),v.Ah(s.x+1,s.y-1,"@",e.R),v.Ah(s.x-1,s.y+1,"@",e.R),v.Ah(s.x+1,s.y+1,"@",e.R)}v.Ah(S.x,S.y,"^",e.g),v.Ah(S.x-1,S.y+1,"/",e.g),v.Ah(S.x+1,S.y+1,"\\",e.g),v.Ah(S.x,S.y+1,"|",e.R),t<0&&t>-120&&v.Eh(40,22.5,"WAVE "+b.count,e.C),v.Ah(1,43,"Z - SHOOT",e.C),B++}}])}));