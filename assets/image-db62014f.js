import{b as v,a as L,f as T}from"./terminal-5027974d.js";const A=[{charCode:v.BLOCK_TOP_HALF,active:[1,1,0,0]},{charCode:v.BLOCK_RIGHT_HALF,active:[0,1,0,1]}];function P(c,o){const e=new Image;e.onload=()=>{const r=e.width,l=e.height,a=_(e),t=new L(r,l);let n=0;for(let s=0;s<l;s++)for(let i=0;i<r;i++)t.getCell(i,s).setBackground(T(a[n++],a[n++],a[n++],a[n++]));o(t)},e.src=c}function k(c,o){const e=new Image;e.onload=()=>{const r=e.width,l=e.height,a=_(e),t=new L(r/2,l/2);for(let n=0;n<l;n+=2)for(let s=0;s<r;s+=2)K(t,a,s,n,r);o(t)},e.src=c}function _(c){const o=document.createElement("canvas");o.width=c.width,o.height=c.height;const e=o.getContext("2d");return e.drawImage(c,0,0),e.getImageData(0,0,c.width,c.height).data}function K(c,o,e,r,l){const a=4*(r*l+e),t=o[a],n=o[a+1],s=o[a+2],i=4*(r*l+e+1),C=o[i],B=o[i+1],j=o[i+2],h=4*((r+1)*l+e),p=o[h],x=o[h+1],F=o[h+2],f=4*((r+1)*l+e+1),H=o[f],O=o[f+1],R=o[f+2],D=[[t,n,s],[C,B,j],[p,x,F],[H,O,R]];let m=Number.MAX_VALUE,d=0,w=null,b=null;for(let u=0;u<A.length;u++){const I=A[u],g=M(I.active,D);g.error<m&&(m=g.error,d=I.charCode,w=g.bg,b=g.fg)}c.drawChar(e/2,r/2,d,E(b),E(w))}function M(c,o){const e=[[0,0,0],[0,0,0]],r=[[0,0,0],[0,0,0]],l=[0,0];for(let t=0;t<4;t++){for(let n=0;n<3;n++)e[c[t]][n]+=o[t][n];l[c[t]]++}for(let t=0;t<2;t++)for(let n=0;n<3;n++)r[t][n]=e[t][n]/l[t];let a=0;for(let t=0;t<4;t++){let n=0;for(let s=0;s<3;s++){const i=o[t][s]-r[c[t]][s];n+=i*i}a+=Math.sqrt(n)}return{bg:r[0],fg:r[1],error:a}}function E(c){return T(c[0],c[1],c[2])}export{P as a,k as l};
