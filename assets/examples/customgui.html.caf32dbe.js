import"../modulepreload-polyfill.b7f2da20.js";/* empty css                */import{T as R,K as g,C as l,c as C,P as p,a as K}from"../terminal.0c0b58ef.js";import{M as h,S,G as I,D as x}from"../selectdialog.58d69040.js";class D{getState(i,e){const t=e.contentsRect.width+4,s=e.contentsRect.height+4,a=(i.width-t)/2|0,r=(i.height-s)/2|0,n=new x(e,new C(a,r,t,s),new p(2,2));return n.buffer=new K(t,s),n}draw(i,e){const t=e.buffer;if(!t)return;const s=e.dialog,{x:a,y:r,width:n,height:w}=e.rect;t.fillRect(0,0,n,w,0,l.LIGHT_CYAN,l.DARK_CYAN),t.drawSingleBox(0,0,n,w),t.drawCenteredString(n/2|0,0," "+s.title+" "),s.drawContents(t,e.contentsOffset),this.fadeIn(i,a,r,t,e.count),e.count+=2}fadeIn(i,e,t,s,a){for(let r=0;r<s.height;r++)for(let n=0;n<s.width;n++)if(n+r<a){const f=s.getCell(n,r);f&&i.drawCell(e+n,t+r,f)}}}const o=new R(document.querySelector("canvas"),80,45),c=new I(o,new D),u=["Sword","Banana","Magic Potion","Red Stapler"];let m=10,y=10;o.update=function(){if(!c.handleInput()){const d=o.getMovementKey();d&&(m+=d.x,y+=d.y),o.isKeyPressed(g.VK_M)&&c.add(new h("ALERT","Hello World")),o.isKeyPressed(g.VK_I)&&c.add(new S("INVENTORY",u,i=>{c.add(new h("ALERT","You chose: "+u[i]))}))}o.clear(),o.fillRect(0,0,80,45,0,l.LIGHT_GREEN,l.BLACK),o.drawString(1,1,"Hello world!"),o.drawString(1,3,"Use arrow keys to move"),o.drawString(1,5,'Press "m" to open a MessageDialog'),o.drawString(1,7,'Press "i" to open a SelectDialog'),o.drawString(m,y,"@"),c.draw()};
