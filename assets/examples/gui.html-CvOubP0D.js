import{b as E,K as a,T as R,M as e,C as i,c as g,f as m,R as p}from"../terminal-v72NC_uz.js";import{D as H,M as h,S as K,G as D}from"../selectdialog-TVjEhsgY.js";class M extends H{constructor(t,o,l){super(t,o),this.message=l,this.scrollY=0,this.messagesHeight=l.getHeight(),this.scrollMax=Math.max(1,this.messagesHeight-this.contentsRect.height),this.scrollbarHeight=this.contentsRect.height*this.contentsRect.height/(this.messagesHeight+1)}drawContents(t,o){t.clip=this.contentsRect,t.drawMessage(o.x,o.y-this.scrollY,this.message,this.message.getWidth()),t.clip=void 0;const l=this.scrollY/this.scrollMax*(this.contentsRect.height-this.scrollbarHeight);t.drawVLine(this.contentsRect.x+this.contentsRect.width+1,this.contentsRect.y+l,this.scrollbarHeight,E.MEDIUM_SHADE)}handleInput(t){const o=t.getMovementKey();return o&&(this.scrollY+=o.y),t.isKeyPressed(a.VK_PAGE_DOWN)&&(this.scrollY+=this.contentsRect.height),t.isKeyPressed(a.VK_PAGE_UP)&&(this.scrollY-=this.contentsRect.height),t.mouse.wheelDeltaY!==0&&(this.scrollY+=t.mouse.wheelDeltaY<0?-5:5,t.mouse.wheelDeltaY=0),this.scrollY=Math.max(0,Math.min(this.scrollMax,this.scrollY)),t.isKeyPressed(a.VK_ESCAPE)}}const s=new R(document.querySelector("canvas"),80,45),n=new D(s),w=["Sword","Banana","Magic Potion","Red Stapler"];let c=10,d=15;s.update=()=>{if(!n.handleInput()){if(s.isKeyDown(a.VK_UP)&&d--,s.isKeyDown(a.VK_LEFT)&&c--,s.isKeyDown(a.VK_RIGHT)&&c++,s.isKeyDown(a.VK_DOWN)&&d++,s.isKeyPressed(a.VK_H)&&n.add(new h("ALERT","Hello World")),s.isKeyPressed(a.VK_F)&&n.add(new h("Formatted Text",new e("Dagger of the Rising Moon",i.DARK_MAGENTA,void 0,[new e("Item Level 200",i.YELLOW),new e("Binds when picked up",i.WHITE),new e("Unique-Equipped",i.WHITE),new e(" "),new e("Weapon",i.LIGHT_RED,void 0,void 0,g.CENTER),new e("One-Hand                              Dagger",i.WHITE),new e("195-293 Damage                    Speed 1.70",i.WHITE),new e("143.53 damage per second",i.WHITE),new e("+43 Stamina",i.WHITE),new e("Total: 1.70",i.LIGHT_GRAY,void 0,void 0,g.RIGHT),new e(" "),new e("Durability 75 / 75",i.WHITE),new e("Requires Level 80",i.WHITE),new e(" "),new e("Equip: Improves critical strike rating by 22",i.LIGHT_GREEN),new e("Equip: Improves hit rating by 38",i.LIGHT_GREEN),new e("Equip: Increases attack power by 78",i.LIGHT_GREEN)]))),s.isKeyPressed(a.VK_S)){const r=[];for(let t=0;t<100;t++)r.push(new e("Hello World - line "+(t+1),m(Math.random()*255,Math.random()*255,Math.random()*255)));n.add(new M(new p(4,4,72,37),"Message Log",new e(void 0,void 0,void 0,r)))}s.isKeyPressed(a.VK_I)&&n.add(new K("INVENTORY",w,r=>{n.add(new h("ALERT","You chose: "+w[r]))}))}s.clear(),s.fillRect(0,0,80,45,0,i.YELLOW,i.DARK_BLUE),s.drawString(1,1,"Hello world!"),s.drawString(1,3,"Use arrow keys to move"),s.drawString(1,5,'Press "h" to open a MessageDialog'),s.drawString(1,7,'Press "f" to open a MessageDialog with formatted text'),s.drawString(1,9,'Press "s" to open a ScrollableMessageDialog'),s.drawString(1,11,'Press "i" to open a SelectDialog'),s.drawString(c,d,"@"),n.draw()};
