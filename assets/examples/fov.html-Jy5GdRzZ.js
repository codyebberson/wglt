import{f as n,T as x,a as u}from"../terminal-M0kbsYI0.js";import{c as m}from"../path-UyLYMGee.js";var S=(e=>(e[e.QUADRANT_SOUTHEAST=3]="QUADRANT_SOUTHEAST",e[e.QUADRANT_EAST=6]="QUADRANT_EAST",e[e.QUADRANT_NORTHEAST=12]="QUADRANT_NORTHEAST",e[e.QUADRANT_NORTH=24]="QUADRANT_NORTH",e[e.QUADRANT_NORTHWEST=48]="QUADRANT_NORTHWEST",e[e.QUADRANT_WEST=96]="QUADRANT_WEST",e[e.QUADRANT_SOUTHWEST=192]="QUADRANT_SOUTHWEST",e[e.QUADRANT_SOUTH=129]="QUADRANT_SOUTH",e))(S||{});function O(e,o){return e>0?o>0?3:o===0?6:12:e<0?o>0?192:o===0?96:48:o>0?129:24}const i={BLACK:n(0,0,0),WHITE:n(255,255,255),RED:n(136,0,0),CYAN:n(170,255,238),VIOLET:n(204,68,204),GREEN:n(0,204,85),BLUE:n(0,0,170),YELLOW:n(238,238,119),ORANGE:n(221,136,85),BROWN:n(102,68,0),LIGHT_RED:n(255,119,119),DARK_GRAY:n(51,51,51),GRAY:n(119,119,119),LIGHT_GREEN:n(170,255,102),LIGHT_BLUE:n(0,136,255),LIGHT_GRAY:n(187,187,187)},h=80,p=45,_=["    ########        #########        ########    ","    #......#        #.......#        #......#    ","    #......#        #...#...#        #......#    ","    #....#.#        #.#####.#        #......#    ","    #....#.#        #...#...#        #......#    ","    #..###.#        #.......#        #......#    ","    #......##########.......##########......#    ","#####.......................................#####","#...............................................#","#...............................................#","#...............................................#","#...............................................#","#...............................................#","#####.......................................#####","    #......##########.......##########......#    ","    #......#        #.......#        #......#    ","    #......#        #.......#        #......#    ","    #......#        #.......#        #......#    ","    #......#        #.......#        #......#    ","    #......#        #.......#        #......#    ","    #......#        #.......#        #......#    ","    #......#        #.......#        #......#    ","    #......##########.......##########......#    ","#####.......................................#####","#...............................................#","#...............................................#","#...............................................#","#...............................................#","#...............................................#","#####.......................................#####","    #......#############.#############......#    ","    #......#        #..#.#..#        #......#    ","    #..#####        #..#.#..#        #......#    ","    #......#        #..#.#..#        #......#    ","    #####..#        #.......#        #......#    ","    #......#        #.......#        #......#    ","    ########        #########        ########    "],R=_[0].length,E=_.length,f=(h-R)/2|0,N=(p-E)/2|0,g=15;function I(e,o){return _[o].charAt(e)}function U(e,o){return I(e,o)!=="."}const A=new x(document.querySelector("canvas"),h,p,{crt:{scale:3,blur:.5,curvature:.05,chroma:.5,vignette:.1,scanlineWidth:.75,scanlineIntensity:.25}}),t={x:Math.floor(R/2),y:Math.floor(E/2),direction:S.QUADRANT_NORTH,path:null,pathIndex:0},c=new u(R,E,U);function D(){c.computeFov(t.x,t.y,g,!1,t.direction),c.updateExplored()}function H(e,o){const r=t.x+e,T=t.y+o;r<0||r>=R||T<0||T>=E||U(r,T)||(t.x=r,t.y=T,t.direction=O(e,o),D())}A.update=function(){const e=A.getMovementKey();if(e&&H(e.x,e.y),t.path){for(;t.pathIndex<t.path.length&&t.x===t.path[t.pathIndex].x&&t.y===t.path[t.pathIndex].y;)t.pathIndex++;t.pathIndex<t.path.length&&H(t.path[t.pathIndex].x-t.x,t.path[t.pathIndex].y-t.y)}A.clear(),c.fillRect(0,0,h,p,0,i.WHITE,i.BLACK);for(let T=0;T<E;T++)for(let l=0;l<R;l++){const s=c.getCell(l,T);if(s&&s.explored){const a=c.isVisible(l,T)?i.WHITE:i.DARK_GRAY;c.drawString(l,T,I(l,T),a)}}const o={x:A.mouse.x-f,y:A.mouse.y-N},r=m(c,t,o,1e3);if(r){for(let T=1;T<r.length;T++){const l=r[T],s=c.getCell(l.x,l.y);s&&s.setBackground(i.RED)}A.mouse.buttons.get(0).isClicked()&&(t.path=r,t.pathIndex=0)}A.drawConsole(f,N,c,0,0,R,E),A.drawString(f+t.x,N+t.y,"@"),A.drawString(1,1,"Hello world!",i.WHITE),A.drawString(1,3,"Use arrow keys to move",i.WHITE)};D();
