import"../modulepreload-polyfill-3cfb730f.js";/* empty css                */import{M as g,S as R,G as C,a as p}from"../selectdialog-957d0264.js";import{T as K,K as h,C as l,R as S,P as I,a as x}from"../terminal-34f48c6a.js";class P{getState(i,e){const t=e.contentsRect.width+4,s=e.contentsRect.height+4,a=(i.width-t)/2|0,r=(i.height-s)/2|0,n=new p(e,new S(a,r,t,s),new I(2,2));return n.buffer=new x(t,s),n}draw(i,e){const t=e.buffer;if(!t)return;const s=e.dialog,{x:a,y:r,width:n,height:w}=e.rect;t.fillRect(0,0,n,w,0,l.LIGHT_CYAN,l.DARK_CYAN),t.drawSingleBox(0,0,n,w),t.drawCenteredString(n/2|0,0," "+s.title+" "),s.drawContents(t,e.contentsOffset),this.fadeIn(i,a,r,t,e.count),e.count+=2}fadeIn(i,e,t,s,a){for(let r=0;r<s.height;r++)for(let n=0;n<s.width;n++)if(n+r<a){const f=s.getCell(n,r);f&&i.drawCell(e+n,t+r,f)}}}const o=new K(document.querySelector("canvas"),80,45),c=new C(o,new P),u=["Sword","Banana","Magic Potion","Red Stapler"];let m=10,y=10;o.update=function(){if(!c.handleInput()){const d=o.getMovementKey();d&&(m+=d.x,y+=d.y),o.isKeyPressed(h.VK_M)&&c.add(new g("ALERT","Hello World")),o.isKeyPressed(h.VK_I)&&c.add(new R("INVENTORY",u,i=>{c.add(new g("ALERT","You chose: "+u[i]))}))}o.clear(),o.fillRect(0,0,80,45,0,l.LIGHT_GREEN,l.BLACK),o.drawString(1,1,"Hello world!"),o.drawString(1,3,"Use arrow keys to move"),o.drawString(1,5,'Press "m" to open a MessageDialog'),o.drawString(1,7,'Press "i" to open a SelectDialog'),o.drawString(m,y,"@"),c.draw()};
