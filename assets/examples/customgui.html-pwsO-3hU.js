import{T as m,K as g,C as l,R as C,P as K,a as S}from"../terminal-z3zRAHYA.js";import{M as h,S as p,G as I,a as x}from"../selectdialog-U1DQ8TTd.js";class P{getState(a,e){const t=e.contentsRect.width+4,o=e.contentsRect.height+4,i=(a.width-t)/2|0,r=(a.height-o)/2|0,n=new x(e,new C(i,r,t,o),new K(2,2));return n.buffer=new S(t,o),n}draw(a,e){const t=e.buffer;if(!t)return;const o=e.dialog,{x:i,y:r,width:n,height:w}=e.rect;t.fillRect(0,0,n,w,0,l.LIGHT_CYAN,l.DARK_CYAN),t.drawSingleBox(0,0,n,w),t.drawCenteredString(n/2|0,0," "+o.title+" "),o.drawContents(t,e.contentsOffset),this.fadeIn(a,i,r,t,e.count),e.count+=2}fadeIn(a,e,t,o,i){for(let r=0;r<o.height;r++)for(let n=0;n<o.width;n++)if(n+r<i){const f=o.getCell(n,r);f&&a.drawCell(e+n,t+r,f)}}}const s=new m(document.querySelector("canvas"),80,45),c=new I(s,new P),u=["Sword","Banana","Magic Potion","Red Stapler"];let y=10,R=10;s.update=()=>{if(!c.handleInput()){const d=s.getMovementKey();d&&(y+=d.x,R+=d.y),s.isKeyPressed(g.VK_M)&&c.add(new h("ALERT","Hello World")),s.isKeyPressed(g.VK_I)&&c.add(new p("INVENTORY",u,a=>{c.add(new h("ALERT","You chose: "+u[a]))}))}s.clear(),s.fillRect(0,0,80,45,0,l.LIGHT_GREEN,l.BLACK),s.drawString(1,1,"Hello world!"),s.drawString(1,3,"Use arrow keys to move"),s.drawString(1,5,'Press "m" to open a MessageDialog'),s.drawString(1,7,'Press "i" to open a SelectDialog'),s.drawString(y,R,"@"),c.draw()};
